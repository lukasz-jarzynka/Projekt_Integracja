{% extends 'base.html.twig' %}

{% block title %}Zestawienie Danych{% endblock %}
{% block javascripts %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['table', 'corechart']});
        google.charts.setOnLoadCallback(drawTable);
        google.charts.setOnLoadCallback(drawChart1);
        google.charts.setOnLoadCallback(drawChart2);

        function drawTable() {
            var data = new google.visualization.DataTable();

            {% for label in tableLabels %}
            data.addColumn('string', '{{ label }}');
            {% endfor %}

            data.addRows({{ tableData|json_encode|raw }})

            var table = new google.visualization.Table(document.getElementById('table_div'));

            table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
        }

        function drawChart1() {
            var data = google.visualization.arrayToDataTable({{ chartData1|json_encode|raw }});

            var options = {
                title: 'Zestawienie inflacji z PKB na 1 mieszkanca',
                curveType: 'function',
                legend: { position: 'bottom' },
                vAxis: { logScale: true }
            };

            var chart = new google.visualization.LineChart(document.getElementById('curve_chart1'));

            chart.draw(data, options);
        }

        function drawChart2() {
            var data = google.visualization.arrayToDataTable({{ chartData2|json_encode|raw }});

            var options = {
                title: 'Zestawienie wysokości wynagrodzeń',
                curveType: 'function',
                legend: { position: 'bottom' }
            };

            var chart = new google.visualization.LineChart(document.getElementById('curve_chart2'));

            chart.draw(data, options);
        }
    </script>



{% endblock %}
{% block body %}
<div class="container">
    <h1>Data Dashboard</h1>

    {# Tabela z danymi #}
    <div id="table_div"></div>

    {# Wykres danych #}
    <body>
    <!--Div that will hold the pie chart-->
    <div id="chart_div"></div>

    <br>

    <div id="curve_chart1" style="width: 900px; height: 500px"></div>

    <br>

    <div id="curve_chart2" style="width: 900px; height: 500px"></div>
    </body>
</div>


{% endblock %}
